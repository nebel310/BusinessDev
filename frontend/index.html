<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Uploader</title>
    <link rel="stylesheet" href="/styles/index.css">
    <link rel="stylesheet" href="/styles/auth-dialogs.css">
</head>

<body>
    <header>
        <nav>
            <button id="sign-in-btn" class="auth-btn">Вход</button>
            <button id="sign-up-btn" class="auth-btn">Регистрация</button>
            <button id="profile-btn" class="auth-btn" style="display: none;">Профиль</button>
        </nav>
    </header>

    <div class="page-container">
        <div class="uploader-container">
            <div class="uploader" id="fileUploader">
                <input type="file" id="fileInput" style="display: none;" accept="video/*">

                <div class="upload-empty-state" id="emptyState">
                    <!-- <svg class="upload-icon" viewBox="0 0 24 24">
                        <path
                            d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4zM14 13h-3v3H9v-3H6v-2h3V8h2v3h3v2z" />
                    </svg> -->
                    <p class="upload-text">
                        Выберите видеофайл <span>или перетащите его сюда.</span>
                    </p>
                    <p class="upload-hint">
                        Поддерживаемые форматы: MP4, MOV, WMV, AVI, AVCHD, FLV, SWF, F4V, MKV, WEBM
                    </p>
                    <p class="error-message" id="errorMessage"></p>
                </div>

                <div class="file-info" id="fileInfo" style="display: none;">
                    <div class="file-preview video-preview">
                        <svg viewBox="0 0 24 24" class="video-icon">
                            <path
                                d="M18 4v1h-2V4c0-.55-.45-1-1-1H9c-.55 0-1 .45-1 1v1H6V4c0-.55-.45-1-1-1s-1 .45-1 1v16c0 .55.45 1 1 1s1-.45 1-1v-1h2v1c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-1h2v1c0 .55.45 1 1 1s1-.45 1-1V4c0-.55-.45-1-1-1s-1 .45-1 1zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z" />
                        </svg>
                    </div>
                    <div class="file-details">
                        <p class="file-name" id="fileName"></p>
                        <p class="file-size" id="fileSize"></p>
                        <p class="file-type" id="fileType"></p>
                    </div>
                    <button class="clear-file-btn" id="clearFileBtn" aria-label="Удалить файл">
                        <svg viewBox="0 0 24 24" class="clear-icon">
                            <path
                                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <button id="upload-file-btn">Загрузить</button>
    </div>

    <!-- Диалоговое окно входа -->
    <dialog id="login-dialog" class="auth-dialog">
        <div class="auth-container">
            <div class="dialog-header">
                <h2>Вход в систему</h2>
                <button class="close-dialog" data-dialog-close="login-dialog">
                    <svg viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>
            <form id="login-form">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Пароль</label>
                    <input type="password" id="login-password" name="password" required>
                </div>
                <button type="submit" class="btn">Войти</button>
            </form>
            <p class="dialog-footer">Нет аккаунта? <a href="#" id="switch-to-register">Зарегистрироваться</a></p>
            <div id="login-message" class="message"></div>
        </div>
    </dialog>

    <!-- Диалоговое окно регистрации -->
    <dialog id="register-dialog" class="auth-dialog">
        <div class="auth-container">
            <div class="dialog-header">
                <h2>Регистрация</h2>
                <button class="close-dialog" data-dialog-close="register-dialog">
                    <svg viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>
            <form id="register-form">
                <div class="form-group">
                    <label for="register-username">Имя пользователя</label>
                    <input type="text" id="register-username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">Пароль</label>
                    <input type="password" id="register-password" name="password" required>
                </div>
                <div class="form-group">
                    <label for="register-password-confirm">Подтверждение пароля</label>
                    <input type="password" id="register-password-confirm" name="password-confirm" required>
                </div>
                <button type="submit" class="btn">Зарегистрироваться</button>
            </form>
            <p class="dialog-footer">Уже есть аккаунт? <a href="#" id="switch-to-login">Войти</a></p>
            <div id="register-message" class="message"></div>
        </div>
    </dialog>

    <!-- Диалоговое окно профиля -->
    <dialog id="profile-dialog" class="auth-dialog">
        <div class="auth-container">
            <div class="dialog-header">
                <h2>Мой профиль</h2>
                <button class="close-dialog" data-dialog-close="profile-dialog">
                    <svg viewBox="0 0 24 24">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>
            <div id="profile-info">
                <p>Загрузка данных пользователя...</p>
            </div>
            <div class="dialog-actions">
                <button id="logout-btn" class="btn">Выйти</button>
            </div>
        </div>
    </dialog>

    <script type="module" src="/js/main.js"></script>
    <script type="module" src="/js/auth-dialogs.js"></script>
</body>

</html>